import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import queryString from "query-string";
import { useHotkeys } from "react-hotkeys-hook";
import { Rtl } from "../icons";
import { ActionType } from "../../../shared/types";
import config from "../get-config";
export const getQuery = (locationSearch) => {
    const urlVal = queryString.parse(locationSearch).rtl;
    if (urlVal === "true")
        return true;
    if (urlVal === "false")
        return false;
    return config.addons.rtl.defaultState;
};
export const Button = ({ dispatch, globalState }) => {
    const rtlText = "Switch text direction to right to left.";
    const ltrText = "Switch text direction to left to right.";
    useHotkeys(config.hotkeys.rtl, () => dispatch({ type: ActionType.UpdateRtl, value: !globalState.rtl }), {
        enabled: globalState.hotkeys && config.addons.rtl.enabled,
    });
    return (_jsx("li", { children: _jsxs("button", { "aria-label": globalState.rtl ? ltrText : rtlText, title: globalState.rtl ? ltrText : rtlText, className: globalState.rtl ? "ladle-active" : "", onClick: () => dispatch({ type: ActionType.UpdateRtl, value: !globalState.rtl }), type: "button", children: [_jsx(Rtl, {}), _jsx("span", { className: "ladle-addon-tooltip", children: globalState.rtl ? ltrText : rtlText }), _jsx("label", { children: "Right to left" })] }) }));
};
