import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import * as React from "react";
import { Inspector, chromeLight, chromeDark } from "react-inspector";
import { Action } from "../icons";
import { Modal } from "../ui";
import { ActionType, ThemeState } from "../../../shared/types";
export const Button = ({ dispatch, globalState }) => {
    const [open, setOpen] = React.useState(false);
    const text = "Log of events triggered by user.";
    return (_jsx("li", { children: _jsxs("button", { "aria-label": text, title: text, onClick: () => setOpen(true), className: open ? "ladle-active" : "", "data-testid": "addon-action", type: "button", children: [_jsx(Action, {}), _jsx("span", { className: "ladle-addon-tooltip", children: text }), _jsx("label", { children: "Actions" }), globalState.action.length ? (_jsx("div", { className: "ladle-badge", children: globalState.action.length })) : null, _jsxs(Modal, { maxWidth: "60em", isOpen: open, close: () => setOpen(false), label: "Dialog with a log of events triggered by user.", children: [globalState.action.map((action, index) => (_jsx(Inspector, { table: false, sortObjectKeys: true, theme: {
                                ...(globalState.theme === ThemeState.Light
                                    ? chromeLight
                                    : chromeDark),
                                BASE_BACKGROUND_COLOR: "var(--ladle-bg-color-secondary)",
                            }, showNonenumerable: false, name: action.name, data: action.event }, index))), _jsx("button", { onClick: () => {
                                dispatch({
                                    type: ActionType.UpdateAction,
                                    clear: true,
                                    value: undefined,
                                });
                            }, type: "button", children: "Clear actions" })] })] }) }));
};
